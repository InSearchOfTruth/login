{"ast":null,"code":"/*\n * Copyright (c) 2012 Mathieu Turcotte\n * Licensed under the MIT license.\n */\nvar util = require('util');\n\nvar BackoffStrategy = require('./strategy');\n/**\n * Exponential backoff strategy.\n * @extends BackoffStrategy\n */\n\n\nfunction ExponentialBackoffStrategy(options) {\n  BackoffStrategy.call(this, options);\n  this.backoffDelay_ = 0;\n  this.nextBackoffDelay_ = this.getInitialDelay();\n}\n\nutil.inherits(ExponentialBackoffStrategy, BackoffStrategy);\n/** @inheritDoc */\n\nExponentialBackoffStrategy.prototype.next_ = function () {\n  this.backoffDelay_ = Math.min(this.nextBackoffDelay_, this.getMaxDelay());\n  this.nextBackoffDelay_ = this.backoffDelay_ * 2;\n  return this.backoffDelay_;\n};\n/** @inheritDoc */\n\n\nExponentialBackoffStrategy.prototype.reset_ = function () {\n  this.backoffDelay_ = 0;\n  this.nextBackoffDelay_ = this.getInitialDelay();\n};\n\nmodule.exports = ExponentialBackoffStrategy;","map":null,"metadata":{},"sourceType":"script"}