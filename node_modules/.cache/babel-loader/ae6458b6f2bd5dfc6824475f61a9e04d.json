{"ast":null,"code":"'use strict';\n\nmodule.exports.detect = function (local) {\n  if (!local) return false; // remove all escaped sequences\n\n  var tmp = local.replace(/\\\\20/g, '').replace(/\\\\22/g, '').replace(/\\\\26/g, '').replace(/\\\\27/g, '').replace(/\\\\2f/g, '').replace(/\\\\3a/g, '').replace(/\\\\3c/g, '').replace(/\\\\3e/g, '').replace(/\\\\40/g, '').replace(/\\\\5c/g, ''); // detect if we have unescaped sequences\n\n  var search = tmp.search(/\\\\| |\"|&|'|\\/|:|<|>|@/g);\n\n  if (search === -1) {\n    return false;\n  } else {\n    return true;\n  }\n};\n/**\n * Escape the local part of a JID.\n *\n * @see http://xmpp.org/extensions/xep-0106.html\n * @param String local local part of a jid\n * @return An escaped local part\n */\n\n\nmodule.exports.escape = function (local) {\n  if (local === null) return null;\n  return local.replace(/^\\s+|\\s+$/g, '').replace(/\\\\/g, '\\\\5c').replace(/ /g, '\\\\20').replace(/\"/g, '\\\\22').replace(/&/g, '\\\\26').replace(/'/g, '\\\\27').replace(/\\//g, '\\\\2f').replace(/:/g, '\\\\3a').replace(/</g, '\\\\3c').replace(/>/g, '\\\\3e').replace(/@/g, '\\\\40').replace(/\\3a/g, \"\\x05c3a\");\n};\n/**\n * Unescape a local part of a JID.\n *\n * @see http://xmpp.org/extensions/xep-0106.html\n * @param String local local part of a jid\n * @return unescaped local part\n */\n\n\nmodule.exports.unescape = function (local) {\n  if (local === null) return null;\n  return local.replace(/\\\\20/g, ' ').replace(/\\\\22/g, '\"').replace(/\\\\26/g, '&').replace(/\\\\27/g, '\\'').replace(/\\\\2f/g, '/').replace(/\\\\3a/g, ':').replace(/\\\\3c/g, '<').replace(/\\\\3e/g, '>').replace(/\\\\40/g, '@').replace(/\\\\5c/g, '\\\\');\n};","map":null,"metadata":{},"sourceType":"script"}