{"ast":null,"code":"var Utils = require('./cubeInternalUtils');\n\nvar fetchImpl, formDataImpl, XMPPClient, XMPPWebSocketTransport;\nvar RTCPeerConnection, RTCSessionDescription, RTCIceCandidate, MediaStream, mediaDevices, SDPTransform;\n\nif (Utils.getEnv().browser) {\n  fetchImpl = fetch;\n  formDataImpl = FormData;\n  Strophe = require('strophe.js');\n  Object.assign(window, Strophe);\n  XMPPClient = require('./cubeStrophe');\n  RTCPeerConnection = window.RTCPeerConnection;\n  RTCSessionDescription = window.RTCSessionDescription;\n  RTCIceCandidate = window.RTCIceCandidate;\n  MediaStream = window.MediaStream;\n  mediaDevices = navigator.mediaDevices;\n  SDPTransform = require('sdp-transform');\n} else if (Utils.getEnv().nativescript) {\n  fetchImpl = fetch;\n  formDataImpl = FormData;\n  XMPPClient = require('nativescript-xmpp-client');\n} else if (Utils.getEnv().node) {\n  fetchImpl = require('node-fetch');\n  formDataImpl = require('form-data');\n  XMPPClient = require('node-xmpp-client');\n}\n\nmodule.exports = {\n  fetchImpl: fetchImpl,\n  formDataImpl: formDataImpl,\n  XMPPClient: XMPPClient,\n  XMPPWebSocketTransport: XMPPWebSocketTransport,\n  RTCPeerConnection: RTCPeerConnection,\n  RTCSessionDescription: RTCSessionDescription,\n  RTCIceCandidate: RTCIceCandidate,\n  MediaStream: MediaStream,\n  mediaDevices: mediaDevices,\n  SDPTransform: SDPTransform\n};","map":null,"metadata":{},"sourceType":"script"}